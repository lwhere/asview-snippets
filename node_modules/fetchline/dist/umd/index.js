!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.fetchline=t():e.fetchline=t()}(this,(function(){return(()=>{"use strict";var e={368:function(e){var t=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function c(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}u((o=o.apply(e,t||[])).next())}))},n=this&&this.__await||function(e){return this instanceof n?(this.v=e,this):new n(e)},o=this&&this.__asyncGenerator||function(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=o.apply(e,t||[]),c=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,o){c.push([e,t,n,o])>1||u(e,t)}))})}function u(e,t){try{(o=i[e](t)).value instanceof n?Promise.resolve(o.value.v).then(f,a):l(c[0][2],o)}catch(e){l(c[0][3],e)}var o}function f(e){u("next",e)}function a(e){u("throw",e)}function l(e,t){e(t),c.shift(),c.length&&u(c[0][0],c[0][1])}};const r=e=>e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),i=e=>t(void 0,void 0,void 0,(function*(){const t=yield fetch(e);if(null===t.body)throw new Error("Cannot read file");return t.body.getReader()}));e.exports=function(e,{includeLastEmptyLine:t=!0,encoding:c="utf-8",delimiter:s=/\r?\n/g}={}){return o(this,arguments,(function*(){const o=yield n(i(e));let{value:u,done:f}=yield n(o.read());const a=new TextDecoder(c);let l,d=u?a.decode(u):"";if("string"==typeof s){if(""===s)throw new Error("delimiter cannot be empty string!");l=new RegExp(r(s),"g")}else l=!1===/g/.test(s.flags)?new RegExp(s.source,s.flags+"g"):s;let h=0;for(;;){const e=l.exec(d);if(null!==e)yield yield n(d.substring(h,e.index)),h=l.lastIndex;else{if(!0===f)break;const e=d.substring(h);({value:u,done:f}=yield n(o.read())),d=e+(d?a.decode(u):""),h=0}}(t||h<d.length)&&(yield yield n(d.substring(h)))}))}}},t={};return function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(368)})()}));